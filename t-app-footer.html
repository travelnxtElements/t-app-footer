<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html">

<!--
`t-app-footer` is an application footer component. It displays contact information
like phone number and email address of the people behind the application.
It also has the logo of the application which can be used to redirect to a page
in the application.

Example:

    <t-app-footer email="somemail@mail.com"></t-app-footer>

### Styling

Custom property | Description | Default
----------------|-------------|----------
--footer-text-size | The font size to use in footer | 10px
--grey-four | The color of the footer text | #777777
--grey-two | The background color of the footer | #eeeeee
--primary-font-family | The font of the text in footer |
-->

<dom-module id="t-app-footer">
    <template>
        <style include="iron-flex"></style>
        <style include="iron-flex-alignment">
        :host {
            display: block;
            padding: 10px 12px 10px;
            height: 55px;
            background: var(--grey-two, #eeeeee);
            overflow: hidden;
            color: var(--grey-four, #777777);
            font-size: var(--footer-text-size, 10px);
            font-family: var(--primary-font-family);
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            transform: translateZ(0);
        }

        iron-icon {
            width: 10px;
            height: 10px;
        }

        img {
            max-height: 20px;
        }

        a {
            color: inherit;
            text-decoration: none;
        }
        </style>
        <div class="layout horizontal">
            <div class="flex layout vertical">
                <a href="{{logoUrl}}">
                    <img alt="Travlnxt" src="{{src}}">
                </a>
                <div>&copy; 2015 | All Rights Reserved. </div>
            </div>
            <div class="layout around-justified vertical">
                <div>
                    <iron-icon icon="icons:mail"></iron-icon>
                    <a href="{{emailHref}}">{{email}}</a>
                </div>
                <div>
                    <iron-icon icon="settings-phone"></iron-icon>
                    <a href="{{phoneHref}}">{{phone}}</a>
                </div>
            </div>
        </div>
    </template>
</dom-module>
<script>
Polymer({

    is: 't-app-footer',

    properties: {

        /**
         * TODO: shouldn't this be named something like `logoSrc`?
         * The url of the image to be displayed in the footer
         * @type {String}
         */
        src: {
            type: String,
            reflectToAttribute: true,
            value: 'https://s3.amazonaws.com/tavisca.samplebucket/124850/Images/c9154425-43be-4a7a-9d44-463c97a58040'
        },

        /**
         * The url to redirect to on the logo click
         * @type {String}
         */
        logoUrl: {
            type: String,
            reflectToAttribute: true,
            value: 'http://google.com'
        },

        /**
         * The contact email to be shown in the footer
         * @type {String}
         */
        email: {
            type: String,
            reflectToAttribute: true,
            value: 'support@travelnxt.com'
        },

        /**
         * The contact phone number to be shown in the footer
         * @type {String}
         */
        phone: {
            type: String,
            reflectToAttribute: true,
            value: '1-855-282-6507'
        },

        /**
         * The link to phone number (has protocol)
         * @type {String}
         */
        phoneHref: {
            type: String,
            reflectToAttribute: true,
            computed: 'getPhone(phone)'
        },

        /**
         * The link to email (has protocol)
         * @type {String}
         */
        emailHref: {
            type: String,
            reflectToAttribute: true,
            computed: 'getEmail(email)'
        }
    },

    //TODO: this should be private
    getPhone: function(a) {
        return "tel:" + a;
    },

    //TODO: this should be private
    getEmail: function(a) {
        return "mailto:" + a;
    }
});
</script>
